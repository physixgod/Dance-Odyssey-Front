<div class="content-wrapper">
  <div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4">
      <span class="text-muted fw-light"></span>Add New Product
    </h4>
    <div class="row">
      <div class="col-xxl">
        <div class="card mb-4">
          <div class="card-header d-flex align-items-center justify-content-between">
            <h5 class="mb-0">Product Form</h5>
          </div>
          <div class="card-body">
            <form #productForm="ngForm">
              <!-- Product Name -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="productName">Product Name</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" [(ngModel)]="product.productName" name="productName" id="productName" required />
                </div>
              </div>

              <!-- Price -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="price">Price</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" [(ngModel)]="product.price" name="price" id="price" required />
                </div>
              </div>

              <!-- Description -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="description">Description</label>
                <div class="col-sm-10">
                  <textarea class="form-control" [(ngModel)]="product.description" name="description" id="description" required></textarea>
                </div>
              </div>

              <!-- Quantity -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="quantity">Quantity</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" [(ngModel)]="product.quantity" name="quantity" id="quantity" required />
                </div>
              </div>

              <!-- Date Publication -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="datePublication">Date Publication</label>
                <div class="col-sm-10">
                  <input type="date" class="form-control" [(ngModel)]="product.datePublication" name="datePublication" id="datePublication" required />
                </div>
              </div>

              <!-- Points Price -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="pointsPrice">Points Price</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" [(ngModel)]="product.pointsPrice" name="pointsPrice" id="pointsPrice" required />
                </div>
              </div>

              <!-- Model -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="model">Model</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" [(ngModel)]="product.model" name="model" id="model" required />
                </div>
              </div>

              <!-- Main Category -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="categoryId">Category</label>
                <div class="col-sm-10">
                  <select class="form-control" [(ngModel)]="categoryId" name="categoryId" id="categoryId" (change)="onCategoryChange()" required>
                    <option *ngFor="let category of categories" [value]="category.idCategories">{{ category.type }}</option>
                  </select>
                </div>
              </div>

              <!-- Subcategories -->
              <div class="row mb-3">
                <label class="col-sm-2 col-form-label" for="subCategoryIds">Subcategories</label>
                <div class="col-sm-10">
                  <select multiple class="form-control" [(ngModel)]="subCategoryIds" name="subCategoryIds" id="subCategoryIds" required>
                    <ng-container *ngFor="let subCategory of subCategories">
                      <option [value]="subCategory.idCategories">{{ subCategory.type }}</option>
                    </ng-container>
                  </select>
                </div>
              </div>

     <!-- Image -->
<!-- Image -->
<div class="mb-3">
  <label for="formFile" class="form-label">Product Images</label>
  <input class="form-control" type="file" id="formFile" (change)="onFileSelected($event)" multiple required />
</div>


              <!-- Status Message -->
              <div *ngIf="statusMessage" class="alert mt-3" [ngClass]="statusClass">
                {{ statusMessage }}
              </div>

              <!-- Save Button -->
              <div class="row justify-content-end">
                <div class="col-sm-10">
                  <button type="button" class="btn btn-primary" (click)="addProduct()" >Save Product</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
